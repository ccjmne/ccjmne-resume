@use 'sass:color';
@import '../colours.scss';
@import '../typography.scss';
@import '../spacing.scss';

body {
  display:          grid;
  grid-template:    'main'   1fr
                    'footer' auto / 1fr;
  width:            100vw;
  height:           100vh;
  margin:           0;
  background-image:
    linear-gradient(
      .25turn,
      color.adjust(color.adjust($verdigris, $lightness: -25%), $alpha: -.15),
      color.adjust(color.adjust($yinmn-blue, $lightness: -15%), $alpha: -.15) 70%,
      color.adjust($yinmn-blue, $lightness: -25%)
    ),
    url('src/assets/caustics.jpg');
}

main {
  display: grid;
  grid-template: 'git highlights' 1fr / 30% 1fr;
  grid-area:        main;
  padding:          2 * $default-padding;
  background-size:  cover;
  background-image:
    linear-gradient(transparentize($light-bg, .6), transparentize($light-bg, .6)),
    url('https://images.unsplash.com/photo-1566041510394-cf7c8fe21800?q=80&w=1287&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D');
}

footer {
  display:   grid;
  grid-area: footer;
  padding:   calc( $default-padding / 1 );
  grid-gap:  calc( $default-padding / 4 );
  grid-template:
    'title qrcode-hint qrcode' auto
    'title qrcode-hint qrcode'      1fr / 1fr auto 100px;

  [grid-area=qrcode-hint] {
    writing-mode: vertical-rl;
    transform: rotate(180deg);
    font-size: small;
    margin: calc($default-padding / -1) 0;
    text-align: center;
  }
}

section#highlights {
  padding-inline-start: calc($default-padding / 2);
}

article.highlight {
  position:      relative;
  display:       grid;
  grid-template: 'dates'    auto
                 'headline' auto
                 'content'  auto
                 'numbers'  auto / 1fr;

  &:nth-child(2n) {
    background: #9b9b9b2b;
  }

  [grid-area=numbers] {
    display:         flex;
    flex-direction:  row;
    justify-content: space-between;
  }

  h3 {
    margin: 0;
  }

  p {
    margin: 10px 0; // TODO: Probably not that.
  }

  .stat {
    display:       grid;
    grid-template: 'pre'  auto
                   'n'    1fr
                   'post' auto / auto;

    strong {
      background-image:
        linear-gradient(
          .25turn,
          color.adjust(color.adjust($verdigris, $lightness: -15%), $alpha: -.15),
          color.adjust(color.adjust($yinmn-blue, $lightness: -05%), $alpha: -.15) 70%,
          color.adjust($yinmn-blue, $lightness: -15%)
        ),
        url('src/assets/caustics.jpg');
      background-clip: text;
      color          : transparent;
      font-weight    : 900;
      font-family    : system-ui;
      font-size      : 1.2em;
    }
  }

  & + & {
    margin-block-start: $default-padding;
  }
}
